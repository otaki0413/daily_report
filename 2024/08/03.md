## 取り組んだ課題一覧

- REST Udemy 動画視聴
  - セクション 2 Web サービスの基本：完了
  - セクション 3 REST 制約：完了
  - セクション 4 REST WebAPI サービス設計（基本）：完了
  - セクション 5 REST WebAPI サービス設計（応用）：完了

## わかったこと

- URI 設計

  - 誰が見てもわかる単語
  - 全て小文字で表現する
  - 単語はハイフンで繋げる（hoge-test）
    - ハイフンは単語をつなぐためのもの
  - 単語は複数形を使用する（users/123）

  - エンコードを必要とする文字を使わない
  - サーバー側のアーキテクチャを反映しない
  - 改造しやすい（発火ブル）
  - ルールが統一されている(get, post でクエリパラメータ、パスパラメータと異ならないよう)

- データフォーマット

  - XML
  - JSON：XML に比べてデータ量減らせる
  - JSONP：データフォーマットに見えるが JS のコード、クロスドメインでデータ受け渡し可能

- データフォーマットの指定方法 3 種類

  - クエリパラメータ
  - 拡張子（あんま使わん）
  - リクエストヘッダーに付与する（URI がリソースであるため行儀がいい）

- データの内部構造

  - オブジェクトはなるべくフラットにする
  - ページネーションをサポートする情報返す
    - hasNext(true or false), nextPageToken などキーとなる情報
  - プロパティも命名規則を統一させる
    - スネークケース or キャメルケース
  - 日付は RFC3339（W3C-DTF）形式を使う
    - インターネットで標準使用
    - yyyy-mm-ddT17:00:00+09:00
  - 大きな数値(64bit 整数)は文字列で返す
    - JS で 64bit は扱えないから

- エラー表現

  - エラー詳細はレスポンスボディにいれる
  - エラー時に HTML が返らないようにする
    - フォーマットが変わるとアプリ側で処理できないかも?
  - サービス閉塞時は、503+Retry-After で返す

- API バージョン

  - パスにいれること多い
  - ヘッダーにサービス固有の接頭辞をつける
  - 後方互換しないタイミング(=メジャーのみ)につけるのがオススメ

- API の大量アクセス対策

  - 時間あたりのアクセス制限（レートリミット）

- キャッシュ制御
  - 有効期限による制御
    - Expires, Cash-Control + Date
  - 検証による制御
    - Last-Modified + ETag

## 次やること

- REST 課題提出

## 感じたこと

- twitter のデータモデリング、個人的はきれいに作れてる気がするけどどうなんだろう。
- エンティティ名が適切かどうかも気になるところ。

## 学習時間

- 本日： 6.0h
- 合計： 244.0h
